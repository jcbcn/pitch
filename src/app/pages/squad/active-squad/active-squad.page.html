<div class="flex mb-4 mt-12">
    <div class="w-1/6 invisible lg:visible"></div>
    <div class="w-1/4 flex-grow">
        <div class="flex w-full justify-between p-4">
            <div class="w-1/4 bg-transparent text-indigo-dark font-semibold py-2 px-4 border border-indigo rounded">
                <div class="text-center text-sm">Team Chemistry</div>
                <div class="text-center text-xl text-indigo-darker pt-1">100%</div>
            </div>
            <div class="w-1/4 bg-transparent text-indigo-dark font-semibold py-2 px-4 border border-indigo rounded">
                <div class="text-center text-sm">Overall Fitness</div>
                <div class="text-center text-xl text-indigo-darker pt-1">100%</div>
            </div>
            <div class="w-1/4 bg-transparent text-indigo-dark font-semibold py-2 px-4 border border-indigo rounded">
                <div class="text-center text-sm">Overall Rating</div>
                <div class="text-center text-xl text-indigo-darker pt-1">99</div>
            </div>
        </div>

        <div class="isometric-container">
            <div class="isometric">
                <div>
                    <div class="flex pb-8 lg:pb-16">
                        <div class="w-1/4 hover:bg-green"></div>
                        <div class="w-1/4 hover:bg-green">
                            <div class="text-center py-2">
                                <!-- <img src="https://www.fifaindex.com/static/FIFA19/images/players/10/20801.png"> -->
                                <pitch-player-card (click)="pickPlayer('LST')" [card]="cards['LST']" size="sm"
                                    mode="squad">
                                </pitch-player-card>
                            </div>
                        </div>
                        <div class="w-1/4 hover:bg-green">
                            <div class="text-center py-2">
                                <!-- <img src="https://www.fifaindex.com/static/FIFA19/images/players/10/231747.png" /> -->
                                <pitch-player-card (click)="pickPlayer('RST')" [card]="cards['RST']" size="sm"
                                    mode="squad">
                                </pitch-player-card>
                            </div>
                        </div>
                    </div>
                    <div class="flex pb-8 lg:pb-16">
                        <div class="w-1/4 hover:bg-green">
                            <div class="text-center py-2">
                                <!-- <img src="https://www.fifaindex.com/static/FIFA19/images/players/10/190871.png"> -->
                                <pitch-player-card (click)="pickPlayer('LM')" [card]="cards['LM']" size="sm"
                                    mode="squad">
                                </pitch-player-card>
                            </div>
                        </div>
                        <div class="w-1/4 hover:bg-green">
                            <div class="text-center py-2">
                                <!-- <img src="https://www.fifaindex.com/static/FIFA19/images/players/10/138412.png" /> -->
                                <pitch-player-card (click)="pickPlayer('LCM')" [card]="cards['LCM']" size="sm"
                                    mode="squad">
                                </pitch-player-card>
                            </div>
                        </div>
                        <div class="w-1/4 hover:bg-green">
                            <div class="text-center py-2">
                                <!-- <img src="https://www.fifaindex.com/static/FIFA19/images/players/10/183711.png" /> -->
                                <pitch-player-card (click)="pickPlayer('RCM')" [card]="cards['RCM']" size="sm"
                                    mode="squad">
                                </pitch-player-card>
                            </div>
                        </div>
                        <div class="w-1/4 hover:bg-green">
                            <div class="text-center py-2">
                                <!-- <img src="https://www.fifaindex.com/static/FIFA19/images/players/5/209331.png" /> -->
                                <pitch-player-card (click)="pickPlayer('RM')" [card]="cards['RM']" size="sm"
                                    mode="squad">
                                </pitch-player-card>
                            </div>
                        </div>
                    </div>
                    <div class="flex pb-8 lg:pb-16">
                        <div class="w-1/4 hover:bg-green">
                            <div class="text-center py-2">
                                <!-- <img src="https://www.fifaindex.com/static/FIFA19/images/players/10/216267.png" /> -->
                                <pitch-player-card (click)="pickPlayer('LB')" [card]="cards['LB']" size="sm"
                                    mode="squad">
                                </pitch-player-card>
                            </div>
                        </div>
                        <div class="w-1/4 hover:bg-green">
                            <div class="text-center py-2">
                                <!-- <img src="https://www.fifaindex.com/static/FIFA19/images/players/10/203376.png" /> -->
                                <pitch-player-card (click)="pickPlayer('LCB')" [card]="cards['LCB']" size="sm"
                                    mode="squad">
                                </pitch-player-card>
                            </div>
                        </div>
                        <div class="w-1/4 hover:bg-green">
                            <div class="text-center py-2">
                                <!-- <img src="https://www.fifaindex.com/static/FIFA19/images/players/10/197061.png" /> -->
                                <pitch-player-card (click)="pickPlayer('RCB')" [card]="cards['RCB']" size="sm"
                                    mode="squad">
                                </pitch-player-card>
                            </div>
                        </div>
                        <div class="w-1/4 hover:bg-green">
                            <div class="text-center py-2">
                                <!-- <img src="https://www.fifaindex.com/static/FIFA19/images/players/10/231281.png" /> -->
                                <pitch-player-card (click)="pickPlayer('RB')" [card]="cards['RB']" size="sm"
                                    mode="squad">
                                </pitch-player-card>
                            </div>
                        </div>
                    </div>
                    <div class="flex justify-center">
                        <div class="w-1/4 hover:bg-green">
                            <div class="text-center py-2">
                                <!-- <img src="https://www.fifaindex.com/static/FIFA19/images/players/10/212831.png" /> -->
                                <pitch-player-card (click)="pickPlayer('GK')" [(card)]="cards['GK']" size="sm"
                                    mode="squad">
                                </pitch-player-card>
                            </div>
                        </div>
                    </div>
                    <!-- <div class="sponsor-container bg-red flex" style="position:relative;width:100%;height:50px;">
                                <img class="flex-1" style="width:100px;" src="/assets/sponsor.png">
                                <img class="flex-1" style="width:100px;" src="/assets/sponsor.png">
                                <img class="flex-1" style="width:100px;" src="/assets/sponsor.png">
                            </div> -->
                </div>
            </div>
        </div>
    </div>
    <div class="w-1/4">
        <div class="w-full p-6">
            <button *ngIf="!pendingChanges" routerLink="/squad/active"
                class="w-full h-12 bg-grey text-white font-bold py-2 px-4 rounded">
                <fa-icon [icon]="tickIcon" class="mr-2 text-white ml-2"></fa-icon>
                <span>Last saved 13 seconds ago</span>
            </button>
            <button *ngIf="pendingChanges" (click)="save()"
                class="w-full h-12 bg-green text-white font-bold py-2 px-4 rounded">
                <fa-icon [icon]="tickIcon" class="mr-2 text-white ml-2"></fa-icon>
                <span>Save changes</span>
            </button>

            <h4 class="mt-6 text-xl">Team Instructions</h4>
            <div
                class="w-full h-64 mt-8 mb-8 bg-indigo-lightest text-indigo-dark py-2 px-4 border border-indigo rounded text-center justify-center">
                Team Instructions
            </div>

            <h4 class="mb-6 text-xl">Subs</h4>
            <div class="flex flex-wrap justify-center">
                <pitch-player-card (click)="pickPlayer('RST')" [card]="cards['RST']" size="sm" mode="squad">
                </pitch-player-card>
                <pitch-player-card (click)="pickPlayer('RST')" [card]="cards['RST']" size="sm" mode="squad">
                </pitch-player-card>
                <pitch-player-card (click)="pickPlayer('RST')" [card]="cards['RST']" size="sm" mode="squad">
                </pitch-player-card>
                <pitch-player-card (click)="pickPlayer('RST')" [card]="cards['RST']" size="sm" mode="squad">
                </pitch-player-card>
                <pitch-player-card (click)="pickPlayer('RST')" [card]="cards['RST']" size="sm" mode="squad">
                </pitch-player-card>
                <pitch-player-card (click)="pickPlayer('RST')" [card]="cards['RST']" size="sm" mode="squad">
                </pitch-player-card>
            </div>
        </div>
    </div>
    <div class="w-1/6 invisible lg:visible"></div>
</div>

<div *ngIf="modal.visible" (click)="modal.visible = false"
    class="pin h-screen w-full absolute flex items-center justify-center bg-modal"
    style="background-color: rgba(0, 0, 0, 0.8)">
    <div class="bg-white rounded shadow m-4 max-w-xs max-h-full text-center">
        <div class="m-4 p-2 text-lg">
            <p>Select a {{modal.position}}</p>
        </div>
        <div style="max-height:500px;height:500px;" class="overflow-y-scroll">
            <div *ngFor="let card of modal.popupCards | async | playerAlreadyInSquad : squad.lineup"
                (click)="assign(modal.position, card.id)"
                class="flex bg-grey-lighter content-center items-center justify-center p-2 hover:bg-blue cursor-pointer">
                <div class="m-2 flex-1">
                    <pitch-player-card [card]="card" size="sm" mode="squad"></pitch-player-card>
                </div>
                <div class="m-2 flex-grow justify-center content-center">{{card.position}}</div>
                <div class="m-2 flex-grow flex-col justify-center content-center">{{card.name}}</div>
                <div class="m-2 flex-grow justify-center content-center">{{card.fitness}}</div>
            </div>
        </div>
        <a href="#" class="block group hover:bg-blue p-2" (click)="$event.stopPropagation()">
            <p class="text-sm mb-1 text-black group-hover:text-white">Load More...</p>
        </a>
        <a href="#" class="block group hover:bg-blue p-4" (click)="assign(modal.position, null)">
            <p class="font-bold text-lg mb-1 text-black group-hover:text-white">Remove Player</p>
        </a>
        <!-- <div class="flex justify-center">
            <button class="flex-no-shrink text-white py-2 px-4 rounded bg-teal hover:bg-teal-dark">Let's Go</button>
        </div> -->
    </div>
</div>